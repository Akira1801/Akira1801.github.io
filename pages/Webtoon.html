<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Webtoon Library</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/css/index.css">
    <link rel="stylesheet" href="/css/navbar.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f8f4f2;
            overflow-x: hidden;
            color: #4e342e;
        }
        
        .card {
            border: none;
            border-radius: 16px;
            overflow: hidden;
            transition: transform 0.3s, box-shadow 0.3s;
            margin-bottom: 1.5rem;
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1) !important;
        }
        
        .card-title {
            font-weight: 600;
            font-size: 1.1rem;
            margin-bottom: 1rem;
            color: #5d4037;
        }
        
        h1, h2, h4 {
            color: #5d4037;
            font-weight: 700;
        }
        
        .search-container {
            background-color: #e7d4c0;
            padding: 2rem;
            border-radius: 16px;
            margin-bottom: 2rem;
            box-shadow: 0 2px 15px rgba(0,0,0,0.08);
        }
        
        .card-header.bg-success {
            background-color: #EAD1B7 !important;
            color: #4e342e !important;
        }
        
        .card-header.bg-primary {
            background-color: #B0D3F0 !important;
            color: #1a3c5e !important;
        }
        
        .card-header.bg-danger {
            background-color: #f5e6d8 !important;
            color: #5d4037 !important;
        }
        
        .page-header {
            background-color: #e7d4c0;
            padding: 2rem 0;
            margin-bottom: 2rem;
            position: relative;
            overflow: hidden;
            box-shadow: 0 2px 15px rgba(0,0,0,0.08);
        }
        
        .page-header h2 {
            padding-top: 0 !important;
            margin: 0;
        }
        
        .page-header::before {
            content: '';
            position: absolute;
            width: 150px;
            height: 150px;
            background-color: rgba(255,255,255,0.15);
            border-radius: 50%;
            top: -30px;
            left: -30px;
        }
        
        .page-header::after {
            content: '';
            position: absolute;
            width: 100px;
            height: 100px;
            background-color: rgba(255,255,255,0.15);
            border-radius: 50%;
            bottom: 20px;
            right: 10%;
        }
        
        /* Tab styling for library section */
        .library-tabs {
            border-bottom: 1px solid #e7d4c0;
            margin-bottom: 2rem;
        }
        
        .library-tabs .nav-link {
            color: #5d4037;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 0;
            position: relative;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .library-tabs .nav-link.active {
            color: #5d4037;
            background-color: transparent;
            border-bottom: 3px solid #e7d4c0;
        }
        
        .library-tabs .nav-link:hover {
            color: #3e2723;
        }
        
        /* Webtoon item styling */
        .webtoon-list {
            list-style: none;
            padding: 0;
        }
        
        .webtoon-item {
            display: flex;
            margin-bottom: 1rem;
            padding: 0.75rem;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            transition: transform 0.2s, box-shadow 0.2s;
        }
        
        .webtoon-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        .webtoon-thumb {
            width: 60px;
            height: 90px;
            object-fit: cover;
            border-radius: 8px;
            margin-right: 1rem;
        }
        
        .webtoon-info {
            flex: 1;
        }
        
        .webtoon-title {
            font-weight: 600;
            margin-bottom: 0.25rem;
            color: #5d4037;
        }
        
        .webtoon-type {
            font-size: 0.8rem;
            color: #8d6e63;
            margin-bottom: 0.5rem;
        }
        
        .webtoon-actions {
            display: flex;
            gap: 0.5rem;
        }
        
        .webtoon-actions .btn {
            padding: 0.25rem 0.5rem;
            font-size: 0.75rem;
        }
        
        /* Section visibility control */
        .tab-content > .tab-pane {
            display: none;
        }
        
        .tab-content > .active {
            display: block;
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg">
      <div class="container-fluid">
        <img src="/assets/yarn.svg" alt="yarn" width="30" height="30" class="me-2">
        <a class="navbar-brand" href="#">Babi's Lounge</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse justify-content-center" id="navbarNav">
          <ul class="nav">
              <li class="nav-item">
                <a class="nav-link" href="/index.html">Home</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/pages/Crochet.html">Crochet Library</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/pages/Tracker.html">Tracker</a>
              </li>
              <li class="nav-item">
                  <a class="nav-link" href="/pages/Recipes.html">Recipe List</a>
              </li>
              <li class="nav-item">
                  <a class="nav-link" href="/pages/Movies.html">Movie Playlist</a>
              </li>
              <li class="nav-item">
                  <a class="nav-link" href="/pages/Music.html">Flash Cards</a>
              </li>
              <li class="nav-item">
                  <a class="nav-link active" href="/pages/Webtoon.html">Webtoon Playlist</a>
              </li>
            </ul>
        </div>
      </div>
    </nav>

    <div class="page-header">
        <h2 class="text-center mb-0">Webtoon & Manga Library</h2>
    </div>

    <div class="container">
        <div class="search-container">
            <div class="row g-3">
                <div class="col-md-6">
                    <div class="input-group">
                        <span class="input-group-text"><i class="fas fa-search"></i></span>
                        <input type="text" id="searchInput" class="form-control" placeholder="Search for a title (minimum 3 characters)...">
                    </div>
                </div>
                
                <div class="col-md-3">
                    <select id="typeFilter" class="form-select">
                        <option value="">All Types</option>
                        <option value="manga">Japanese Manga</option>
                        <option value="manhwa">Korean Manhwa</option>
                        <option value="manhua">Chinese Manhua</option>
                    </select>
                </div>

                <div class="col-md-3">
                    <select id="sortSelect" class="form-select">
                        <option value="asc">Sort A-Z</option>
                        <option value="desc">Sort Z-A</option>
                    </select>
                </div>
            </div>
        </div>

        <div class="loading-spinner"></div>
        
        <!-- Results Container -->
        <div id="results" class="row g-4"></div>

        <!-- Library Sections -->
        <div class="mt-5">
            <h2 class="mb-4">My Library</h2>
            
            <!-- Tabs -->
            <ul class="nav nav-tabs library-tabs" id="libraryTabs" role="tablist">
                <li class="nav-item" role="presentation">
                    <button class="nav-link active" id="reading-tab" data-bs-toggle="tab" data-bs-target="#reading-content" type="button" role="tab" aria-controls="reading" aria-selected="true">
                        Reading
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="completed-tab" data-bs-toggle="tab" data-bs-target="#completed-content" type="button" role="tab" aria-controls="completed" aria-selected="false">
                        Completed
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="dropped-tab" data-bs-toggle="tab" data-bs-target="#dropped-content" type="button" role="tab" aria-controls="dropped" aria-selected="false">
                        Dropped
                    </button>
                </li>
            </ul>
            
            <!-- Tab Content -->
            <div class="tab-content" id="libraryTabContent">
                <div class="tab-pane fade show active" id="reading-content" role="tabpanel" aria-labelledby="reading-tab">
                    <div class="p-3">
                        <ul id="readingList" class="webtoon-list"></ul>
                    </div>
                </div>
                <div class="tab-pane fade" id="completed-content" role="tabpanel" aria-labelledby="completed-tab">
                    <div class="p-3">
                        <ul id="completedList" class="webtoon-list"></ul>
                    </div>
                </div>
                <div class="tab-pane fade" id="dropped-content" role="tabpanel" aria-labelledby="dropped-tab">
                    <div class="p-3">
                        <ul id="droppedList" class="webtoon-list"></ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/Javascript/webtoon.js"></script>
    
    <script>
        // Sample data for demonstration
        document.addEventListener('DOMContentLoaded', function() {
            const sampleLibrary = {
                reading: [
                    { id: 1, title: "Tower of God", type: "Korean Manhwa", status: "reading", image: "https://swebtoon-phinf.pstatic.net/20180403_188/1522748091252vkIAH_JPEG/04_EC8DB8EB84A4EC9DBC_m.jpg?type=crop540_540" },
                    { id: 2, title: "Solo Leveling", type: "Korean Manhwa", status: "reading", image: "https://swebtoon-phinf.pstatic.net/20201120_76/1605868256616Fl0cC_JPEG/04_EC8DB8EB84A4EC9DBC_m.jpg?type=crop540_540" },
                    { id: 3, title: "Omniscient Reader's Viewpoint", type: "Korean Manhwa", status: "reading", image: "https://swebtoon-phinf.pstatic.net/20210625_36/1624605470858rr5A0_JPEG/3534_EC8DB8EB84A4EC9DBC_m.jpg?type=crop540_540" }
                ],
                completed: [
                    { id: 4, title: "Sweet Home", type: "Korean Manhwa", status: "completed", image: "https://swebtoon-phinf.pstatic.net/20180518_38/1526628720325tdA2W_JPEG/04_EC8DB8EB84A4EC9DBC_m.jpg?type=crop540_540" },
                    { id: 5, title: "The Gamer", type: "Korean Manhwa", status: "completed", image: "https://swebtoon-phinf.pstatic.net/20140128_75/1390898163673P3bR9_JPEG/11_EC8DB8EB84A4EC9DBC.jpg?type=crop540_540" }
                ],
                dropped: [
                    { id: 6, title: "Noblesse", type: "Korean Manhwa", status: "dropped", image: "https://swebtoon-phinf.pstatic.net/20200114_104/1578963070279OHQfa_JPEG/04_EC8DB8EB84A4EC9DBC_m.jpg?type=crop540_540" }
                ]
            };
            
            // Populate lists
            function renderLibrary() {
                document.getElementById('readingList').innerHTML = sampleLibrary.reading.map(createWebtoonItem).join('');
                document.getElementById('completedList').innerHTML = sampleLibrary.completed.map(createWebtoonItem).join('');
                document.getElementById('droppedList').innerHTML = sampleLibrary.dropped.map(createWebtoonItem).join('');
            }
            
            function createWebtoonItem(webtoon) {
                return `
                    <li class="webtoon-item" data-id="${webtoon.id}">
                        <img src="${webtoon.image}" alt="${webtoon.title}" class="webtoon-thumb">
                        <div class="webtoon-info">
                            <h5 class="webtoon-title">${webtoon.title}</h5>
                            <div class="webtoon-type">${webtoon.type}</div>
                            <div class="webtoon-actions">
                                <button class="btn btn-sm btn-outline-primary view-btn">View Details</button>
                                <button class="btn btn-sm btn-outline-danger remove-btn">Remove</button>
                            </div>
                        </div>
                    </li>
                `;
            }
            
            renderLibrary();
            
            // Handle tab activation
            const tabs = document.querySelectorAll('.library-tabs .nav-link');
            tabs.forEach(tab => {
                tab.addEventListener('click', function(e) {
                    e.preventDefault();
                    tabs.forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Show corresponding content
                    const target = this.getAttribute('data-bs-target');
                    document.querySelectorAll('.tab-pane').forEach(pane => {
                        pane.classList.remove('show', 'active');
                    });
                    document.querySelector(target).classList.add('show', 'active');
                });
            });
            
            // Remove item functionality
            document.querySelectorAll('.remove-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const item = this.closest('.webtoon-item');
                    const id = parseInt(item.getAttribute('data-id'));
                    
                    // Remove from data
                    ['reading', 'completed', 'dropped'].forEach(status => {
                        sampleLibrary[status] = sampleLibrary[status].filter(w => w.id !== id);
                    });
                    
                    // Re-render lists
                    renderLibrary();
                });
            });
        });
    </script>
</body>
</html> 